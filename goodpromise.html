<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async in Javascripts</title>
</head>
<body>
    <h1>Hello Good promise</h1>

    <script>

        // makeBreakfast(function(){
        //     makeCoffee(function(){
        //         eatBreakfast(function(){
        //           drinkCoffee(function(){
        //                cleanUp(function(){
        //     ///final done and it is time for lunch
        //                }); 
        //             });

        //         });

        //     });

        // });

// //kick off both thing, one after another
// const coffeePromise = makeCoffee();
// const makeBreakfastPromise = makeBreakfast();

// // then once each are done, deal with them

// coffeePromise.then(coffee =>{
//     drinkCoffee()
// })

// eatBreakfast.then(([eggs, bacon]) =>{
//     eat(eggs, bacon);
// })

// // you can also wait until both are done

// .all([coffeePromise, eatBreakfastPromise])

// .then(([coffee, breakfast]) =>{
//     sitDownwith(coffee, breakfast)
// })

function sleep(amount){
    return new Promise ((resolve, reject) =>{
      if(amount <=300){
       return reject('That is too fast, cool it down!')
      }
      setTimeout(()=> resolve(`slept for ${amount}`),amount)
    })
}

sleep(500)
    .then((result)=>{
        console.log(result)
 return sleep(1000)

    })
    .then((result) =>{
        console.log(result)
    return sleep(750)
    })
    .then((result) => {
        console.log(result)
        console.log('Done!')
    })

 async function go (){
    // just wait

    await sleep(1000)
    // or capture the returned value

    const response = await sleep(750);
    console.log(response);
 }

 const getDatails = async function () {
  //fire Both off
    const wesPromise = await axios.get('https://api.gethub.com/users/wesbos')
    const scottPromise = await axios.get('https://api.gethub.com/users/stolinski')
    // and wait to both to come back
    const [wes, scott] = await Promise.all([wesPromise, scottPromise])
    const html = `<h1>${wes.name}</h1>
                  <h1>${scott.name}</h1>`
}

    </script>
</body>
</html>